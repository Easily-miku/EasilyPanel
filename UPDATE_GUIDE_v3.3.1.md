# EasilyPanel 3 v3.3.1 更新指南

本文档将指导您从先前版本升级到EasilyPanel 3 v3.3.1。

## 更新方法

### 方法一：替换文件（推荐）

1. **备份您的数据**：
   - 备份`config`目录中的所有文件
   - 备份`servers`目录（如果您希望保留现有服务器）
   - 备份自定义的任何其他文件

2. **下载最新版本**：
   - 从官方下载最新的v3.3.1安装包

3. **替换文件**：
   - 停止正在运行的EasilyPanel 3管理面板
   - 将新版本中的`app.py`替换旧版本的文件
   - 如果您修改过前端代码，请注意比较`templates/index.html`文件中的更改

4. **恢复备份**：
   - 将您备份的`config`目录恢复到新安装中
   - 将您备份的`servers`目录恢复到新安装中

5. **启动新版本**：
   - 使用常规方式启动EasilyPanel 3
   - 检查是否一切正常工作

### 方法二：源码更新

如果您是使用源码运行EasilyPanel 3，请按照以下步骤更新：

1. **拉取最新代码**：
   ```bash
   git pull origin main
   ```

2. **安装/更新依赖**：
   ```bash
   pip install -r requirements.txt
   ```

3. **重启服务**：
   停止当前运行的实例，然后重新启动

## 配置变更说明

v3.3.1主要更新了在线玩家检测机制，不需要对配置文件进行任何更改。所有更改对用户是完全透明的。

## 可能的问题和解决方案

### 问题：升级后无法检测玩家

**解决方案**：
1. 确保服务器日志文件（`logs/latest.log`）存在且可读
2. 确保服务器日志中包含"joined the game"和"left the game"的标准消息
3. 如果使用了非英文语言的服务器，可能需要手动修改`app.py`中的玩家加入/离开模式匹配

### 问题：前端显示不正确

**解决方案**：
1. 清除浏览器缓存
2. 确保已经更新了`templates/index.html`文件
3. 检查浏览器控制台是否有JavaScript错误

## 功能验证

升级完成后，建议进行以下测试以确保功能正常：

1. **服务器状态检查**：启动一个Minecraft服务器，确认状态正确显示
2. **玩家检测测试**：让一个玩家加入服务器，验证系统是否能正确检测
3. **日志检查**：检查Minecraft服务器控制台是否不再显示频繁的"There are X/20 players online"消息

## 反馈与支持

如果您在升级过程中遇到任何问题，请通过以下方式寻求帮助：

- GitHub Issues: https://github.com/Easily-miku/EasilyPanel/issues
- 电子邮件: your-email@example.com

---

感谢您使用EasilyPanel 3！我们致力于不断改进和完善这个项目。 