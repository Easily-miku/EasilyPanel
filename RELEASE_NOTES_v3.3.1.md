# EasilyPanel 3 v3.3.1 发布说明

发布日期：2024-05-14

## 主要更新

### 🔄 优化在线玩家检测机制

在此版本中，我们对在线玩家检测机制进行了重大优化。以前的版本会频繁向Minecraft服务器发送`list`命令来获取在线玩家列表，这导致服务器控制台被大量的"There are X/20 players online"消息所填满。现在，我们采用了一种更智能的解决方案：

- **不再主动发送`list`命令**：改为分析服务器日志文件
- **追踪玩家加入和离开**：通过识别日志中的"joined the game"和"left the game"信息
- **维护玩家状态**：在内存中实时跟踪每个服务器的在线玩家

这一更改带来了以下好处：

1. **减少控制台垃圾信息**：服务器控制台不再充斥着重复的玩家列表输出
2. **提高性能**：减少了对服务器的指令请求
3. **更准确的玩家状态**：实时追踪玩家的加入和离开
4. **降低资源占用**：减少日志文件的大小和I/O操作

### ⚡ 性能优化

- **增加玩家数据缓存**：缓存有效期为5秒，减少频繁读取日志文件的需求
- **优化前端请求频率**：更新玩家信息的间隔从1秒调整为3秒
- **智能日志分析**：只分析必要的日志内容，提高效率

### 🧩 其他改进

- **健壮的解析逻辑**：提高了日志解析的准确性和稳定性
- **异常处理优化**：更好地处理各种意外情况，确保功能稳定运行
- **服务器停止时自动清理**：当服务器停止时自动清除该服务器的在线玩家记录

## 如何升级

1. 下载最新的v3.3.1版本
2. 备份您当前的配置文件和数据
3. 安装新版本（或替换相关文件）
4. 重启管理面板

## 兼容性说明

本次更新不影响现有配置和数据，可以无缝升级。对于使用自定义模板或修改过前端代码的用户，请注意更新相关文件。

## 问题反馈

如果您在使用过程中遇到任何问题，请通过以下方式反馈：

- GitHub Issues: https://github.com/Easily-miku/EasilyPanel/issues
- 电子邮件: your-email@example.com

## 致谢

感谢所有提供反馈和建议的用户，您的支持是我们不断改进的动力！ 